{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./i18n\";\nimport \"./utils/ignore-warnings\";\nimport React, { useState, useEffect } from \"react\";\nimport { SafeAreaProvider, initialWindowMetrics } from \"react-native-safe-area-context\";\nimport { initFonts } from \"./theme/fonts\";\nimport * as storage from \"./utils/storage\";\nimport { AppNavigator, useNavigationPersistence } from \"./navigators\";\nimport { RootStoreProvider, setupRootStore } from \"./models\";\nimport { ToggleStorybook } from \"../storybook/toggle-storybook\";\nimport { ErrorBoundary } from \"./screens/error/error-boundary\";\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var NAVIGATION_PERSISTENCE_KEY = \"NAVIGATION_STATE\";\nvar queryClient = new QueryClient();\nfunction App() {\n  var _useState = useState(undefined),\n    _useState2 = _slicedToArray(_useState, 2),\n    rootStore = _useState2[0],\n    setRootStore = _useState2[1];\n  var _useNavigationPersist = useNavigationPersistence(storage, NAVIGATION_PERSISTENCE_KEY),\n    initialNavigationState = _useNavigationPersist.initialNavigationState,\n    onNavigationStateChange = _useNavigationPersist.onNavigationStateChange,\n    isNavigationStateRestored = _useNavigationPersist.isRestored;\n  useEffect(function () {\n    ;\n    _asyncToGenerator(function* () {\n      yield initFonts();\n      setupRootStore().then(setRootStore);\n    })();\n  }, []);\n  if (!rootStore || !isNavigationStateRestored) return null;\n  return _jsx(QueryClientProvider, {\n    client: queryClient,\n    children: _jsx(ToggleStorybook, {\n      children: _jsx(RootStoreProvider, {\n        value: rootStore,\n        children: _jsx(SafeAreaProvider, {\n          initialMetrics: initialWindowMetrics,\n          children: _jsx(ErrorBoundary, {\n            catchErrors: \"always\",\n            children: _jsx(AppNavigator, {\n              initialState: initialNavigationState,\n              onStateChange: onNavigationStateChange\n            })\n          })\n        })\n      })\n    })\n  });\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","SafeAreaProvider","initialWindowMetrics","initFonts","storage","AppNavigator","useNavigationPersistence","RootStoreProvider","setupRootStore","ToggleStorybook","ErrorBoundary","QueryClient","QueryClientProvider","NAVIGATION_PERSISTENCE_KEY","queryClient","App","undefined","rootStore","setRootStore","initialNavigationState","onNavigationStateChange","isNavigationStateRestored","isRestored","then"],"sources":["/Users/jamesgalante/Desktop/Splitsy/app/app.tsx"],"sourcesContent":["/**\n * Welcome to the main entry point of the app. In this file, we'll\n * be kicking off our app.\n *\n * Most of this file is boilerplate and you shouldn't need to modify\n * it very often. But take some time to look through and understand\n * what is going on here.\n *\n * The app navigation resides in ./app/navigators, so head over there\n * if you're interested in adding screens and navigators.\n */\nimport \"./i18n\"\nimport \"./utils/ignore-warnings\"\nimport React, { useState, useEffect } from \"react\"\nimport { SafeAreaProvider, initialWindowMetrics } from \"react-native-safe-area-context\"\nimport { initFonts } from \"./theme/fonts\" // expo\nimport * as storage from \"./utils/storage\"\nimport { AppNavigator, useNavigationPersistence } from \"./navigators\"\nimport { RootStore, RootStoreProvider, setupRootStore } from \"./models\"\nimport { ToggleStorybook } from \"../storybook/toggle-storybook\"\nimport { ErrorBoundary } from \"./screens/error/error-boundary\"\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\n// This puts screens in a native ViewController or Activity. If you want fully native\n// stack navigation, use `createNativeStackNavigator` in place of `createStackNavigator`:\n// https://github.com/kmagiera/react-native-screens#using-native-stack-navigator\n\nexport const NAVIGATION_PERSISTENCE_KEY = \"NAVIGATION_STATE\"\n\nconst queryClient = new QueryClient();\n\n\n/**\n * This is the root component of our app.\n */\nfunction App() {\n  const [rootStore, setRootStore] = useState<RootStore | undefined>(undefined)\n  const {\n    initialNavigationState,\n    onNavigationStateChange,\n    isRestored: isNavigationStateRestored,\n  } = useNavigationPersistence(storage, NAVIGATION_PERSISTENCE_KEY)\n\n  // Kick off initial async loading actions, like loading fonts and RootStore\n  useEffect(() => {\n    ; (async () => {\n      await initFonts() // expo\n      setupRootStore().then(setRootStore)\n    })()\n  }, [])\n\n  // Before we show the app, we have to wait for our state to be ready.\n  // In the meantime, don't render anything. This will be the background\n  // color set in native by rootView's background color.\n  // In iOS: application:didFinishLaunchingWithOptions:\n  // In Android: https://stackoverflow.com/a/45838109/204044\n  // You can replace with your own loading component if you wish.\n  if (!rootStore || !isNavigationStateRestored) return null\n\n  // otherwise, we're ready to render the app\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ToggleStorybook>\n        <RootStoreProvider value={rootStore}>\n          <SafeAreaProvider initialMetrics={initialWindowMetrics}>\n            <ErrorBoundary catchErrors={\"always\"}>\n              <AppNavigator\n                initialState={initialNavigationState}\n                onStateChange={onNavigationStateChange}\n              />\n            </ErrorBoundary>\n          </SafeAreaProvider>\n        </RootStoreProvider>\n      </ToggleStorybook>\n    </QueryClientProvider>\n  )\n}\n\nexport default App\n\n\n"],"mappings":";;AAWA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,gBAAgB,EAAEC,oBAAoB,QAAQ,gCAAgC;AACvF,SAASC,SAAS;AAClB,OAAO,KAAKC,OAAO;AACnB,SAASC,YAAY,EAAEC,wBAAwB;AAC/C,SAAoBC,iBAAiB,EAAEC,cAAc;AACrD,SAASC,eAAe;AACxB,SAASC,aAAa;AACtB,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,aAAa;AAAC;AAM/D,OAAO,IAAMC,0BAA0B,GAAG,kBAAkB;AAE5D,IAAMC,WAAW,GAAG,IAAIH,WAAW,EAAE;AAMrC,SAASI,GAAG,GAAG;EACb,gBAAkChB,QAAQ,CAAwBiB,SAAS,CAAC;IAAA;IAArEC,SAAS;IAAEC,YAAY;EAC9B,4BAIIZ,wBAAwB,CAACF,OAAO,EAAES,0BAA0B,CAAC;IAH/DM,sBAAsB,yBAAtBA,sBAAsB;IACtBC,uBAAuB,yBAAvBA,uBAAuB;IACXC,yBAAyB,yBAArCC,UAAU;EAIZtB,SAAS,CAAC,YAAM;IACd;IAAE,kBAAC,aAAY;MACb,MAAMG,SAAS,EAAE;MACjBK,cAAc,EAAE,CAACe,IAAI,CAACL,YAAY,CAAC;IACrC,CAAC,GAAG;EACN,CAAC,EAAE,EAAE,CAAC;EAQN,IAAI,CAACD,SAAS,IAAI,CAACI,yBAAyB,EAAE,OAAO,IAAI;EAGzD,OACE,KAAC,mBAAmB;IAAC,MAAM,EAAEP,WAAY;IAAA,UACvC,KAAC,eAAe;MAAA,UACd,KAAC,iBAAiB;QAAC,KAAK,EAAEG,SAAU;QAAA,UAClC,KAAC,gBAAgB;UAAC,cAAc,EAAEf,oBAAqB;UAAA,UACrD,KAAC,aAAa;YAAC,WAAW,EAAE,QAAS;YAAA,UACnC,KAAC,YAAY;cACX,YAAY,EAAEiB,sBAAuB;cACrC,aAAa,EAAEC;YAAwB;UACvC;QACY;MACC;IACD;EACJ,EACE;AAE1B;AAEA,eAAeL,GAAG"},"metadata":{},"sourceType":"module"}
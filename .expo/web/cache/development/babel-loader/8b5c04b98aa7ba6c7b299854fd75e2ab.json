{"ast":null,"code":"import { createServer, Model } from 'miragejs';\nimport { transactionsMock } from \"../services/types/transaction\";\nexport function makeServer() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$environment = _ref.environment,\n    environment = _ref$environment === void 0 ? 'test' : _ref$environment;\n  var server = createServer({\n    environment: environment,\n    models: {\n      notes: Model\n    },\n    seeds: function seeds(server) {\n      server.create('note', {\n        title: 'Nulla sit amet',\n        body: 'Praesent congue erat at massa. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque commodo eros a enim. Nunc interdum lacus sit amet orci.'\n      });\n      server.create('note', {\n        title: 'Curabitur suscipit suscipit',\n        body: 'Fusce risus nisl, viverra et, tempor et, pretium in, sapien. Suspendisse pulvinar, augue ac venenatis condimentum, sem libero volutpat nibh, nec pellentesque velit pede quis nunc. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Praesent nec nisl a purus blandit viverra.'\n      });\n      server.create('note', {\n        title: 'Donec id justo',\n        body: 'Nulla neque dolor, sagittis eget, iaculis quis, molestie non, velit. Curabitur suscipit suscipit tellus. Praesent ac sem eget est egestas volutpat. Pellentesque posuere.'\n      });\n    },\n    routes: function routes() {\n      this.namespace = 'api/notes';\n      this.get('/', function (schema, request) {\n        return schema.notes.all();\n      });\n      this.get('/:id', function (schema, request) {\n        var id = request.params.id;\n        return schema.notes.find(id);\n      });\n      this.post('/', function (schema, request) {\n        var attrs = JSON.parse(request.requestBody);\n        return schema.notes.create(attrs);\n      });\n      this.patch('/:id', function (schema, request) {\n        var newAttrs = JSON.parse(request.requestBody);\n        var id = request.params.id;\n        var note = schema.notes.find(id);\n        return note.update(newAttrs);\n      });\n      this.delete('/:id', function (schema, request) {\n        var id = request.params.id;\n        return schema.notes.find(id).destroy();\n      });\n      this.get('api/v1/transactions/:userKey', function (schema, request) {\n        var userKey = request.params.userKey;\n        return transactionsMock;\n      });\n    }\n  });\n  return server;\n}","map":{"version":3,"names":["createServer","Model","transactionsMock","makeServer","environment","server","models","notes","seeds","create","title","body","routes","namespace","get","schema","request","all","id","params","find","post","attrs","JSON","parse","requestBody","patch","newAttrs","note","update","delete","destroy","userKey"],"sources":["/Users/jamesgalante/Desktop/Splitsy/app/utils/server.ts"],"sourcesContent":["import { createServer, Model } from 'miragejs';\nimport { transactionsMock } from '../services/types/transaction';\nimport { APITransactionsResponseV1 } from '../services/types/transaction-api';\nexport function makeServer({ environment = 'test' } = {}) {\n    let server = createServer({\n        environment,\n        models: {\n            notes: Model,\n        },\n        seeds(server) {\n            server.create('note', {\n                title: 'Nulla sit amet',\n                body:\n                    'Praesent congue erat at massa. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque commodo eros a enim. Nunc interdum lacus sit amet orci.',\n            });\n            server.create('note', {\n                title: 'Curabitur suscipit suscipit',\n                body:\n                    'Fusce risus nisl, viverra et, tempor et, pretium in, sapien. Suspendisse pulvinar, augue ac venenatis condimentum, sem libero volutpat nibh, nec pellentesque velit pede quis nunc. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Praesent nec nisl a purus blandit viverra.',\n            });\n            server.create('note', {\n                title: 'Donec id justo',\n                body:\n                    'Nulla neque dolor, sagittis eget, iaculis quis, molestie non, velit. Curabitur suscipit suscipit tellus. Praesent ac sem eget est egestas volutpat. Pellentesque posuere.',\n            });\n        },\n        routes() {\n            // ***** EXAMPLES ***** //\n            this.namespace = 'api/notes';\n            this.get('/', (schema, request) => {\n                return schema.notes.all();\n            });\n            this.get('/:id', (schema, request) => {\n                let id = request.params.id;\n                return schema.notes.find(id);\n            });\n            this.post('/', (schema, request) => {\n                let attrs = JSON.parse(request.requestBody);\n                return schema.notes.create(attrs);\n            });\n            this.patch('/:id', (schema, request) => {\n                let newAttrs = JSON.parse(request.requestBody);\n                let id = request.params.id;\n                let note = schema.notes.find(id);\n                return note.update(newAttrs);\n            });\n            this.delete('/:id', (schema, request) => {\n                let id = request.params.id;\n                return schema.notes.find(id).destroy();\n            });\n            // ***** EXAMPLES  END ***** //\n            this.get<APITransactionsResponseV1>('api/v1/transactions/:userKey', (schema, request) => {\n                let userKey = request.params.userKey;\n                return transactionsMock;\n            });\n\n        },\n    });\n    return server;\n}"],"mappings":"AAAA,SAASA,YAAY,EAAEC,KAAK,QAAQ,UAAU;AAC9C,SAASC,gBAAgB;AAEzB,OAAO,SAASC,UAAU,GAAgC;EAAA,+EAAJ,CAAC,CAAC;IAAA,wBAA3BC,WAAW;IAAXA,WAAW,iCAAG,MAAM;EAC7C,IAAIC,MAAM,GAAGL,YAAY,CAAC;IACtBI,WAAW,EAAXA,WAAW;IACXE,MAAM,EAAE;MACJC,KAAK,EAAEN;IACX,CAAC;IACDO,KAAK,iBAACH,MAAM,EAAE;MACVA,MAAM,CAACI,MAAM,CAAC,MAAM,EAAE;QAClBC,KAAK,EAAE,gBAAgB;QACvBC,IAAI,EACA;MACR,CAAC,CAAC;MACFN,MAAM,CAACI,MAAM,CAAC,MAAM,EAAE;QAClBC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EACA;MACR,CAAC,CAAC;MACFN,MAAM,CAACI,MAAM,CAAC,MAAM,EAAE;QAClBC,KAAK,EAAE,gBAAgB;QACvBC,IAAI,EACA;MACR,CAAC,CAAC;IACN,CAAC;IACDC,MAAM,oBAAG;MAEL,IAAI,CAACC,SAAS,GAAG,WAAW;MAC5B,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE,UAACC,MAAM,EAAEC,OAAO,EAAK;QAC/B,OAAOD,MAAM,CAACR,KAAK,CAACU,GAAG,EAAE;MAC7B,CAAC,CAAC;MACF,IAAI,CAACH,GAAG,CAAC,MAAM,EAAE,UAACC,MAAM,EAAEC,OAAO,EAAK;QAClC,IAAIE,EAAE,GAAGF,OAAO,CAACG,MAAM,CAACD,EAAE;QAC1B,OAAOH,MAAM,CAACR,KAAK,CAACa,IAAI,CAACF,EAAE,CAAC;MAChC,CAAC,CAAC;MACF,IAAI,CAACG,IAAI,CAAC,GAAG,EAAE,UAACN,MAAM,EAAEC,OAAO,EAAK;QAChC,IAAIM,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACR,OAAO,CAACS,WAAW,CAAC;QAC3C,OAAOV,MAAM,CAACR,KAAK,CAACE,MAAM,CAACa,KAAK,CAAC;MACrC,CAAC,CAAC;MACF,IAAI,CAACI,KAAK,CAAC,MAAM,EAAE,UAACX,MAAM,EAAEC,OAAO,EAAK;QACpC,IAAIW,QAAQ,GAAGJ,IAAI,CAACC,KAAK,CAACR,OAAO,CAACS,WAAW,CAAC;QAC9C,IAAIP,EAAE,GAAGF,OAAO,CAACG,MAAM,CAACD,EAAE;QAC1B,IAAIU,IAAI,GAAGb,MAAM,CAACR,KAAK,CAACa,IAAI,CAACF,EAAE,CAAC;QAChC,OAAOU,IAAI,CAACC,MAAM,CAACF,QAAQ,CAAC;MAChC,CAAC,CAAC;MACF,IAAI,CAACG,MAAM,CAAC,MAAM,EAAE,UAACf,MAAM,EAAEC,OAAO,EAAK;QACrC,IAAIE,EAAE,GAAGF,OAAO,CAACG,MAAM,CAACD,EAAE;QAC1B,OAAOH,MAAM,CAACR,KAAK,CAACa,IAAI,CAACF,EAAE,CAAC,CAACa,OAAO,EAAE;MAC1C,CAAC,CAAC;MAEF,IAAI,CAACjB,GAAG,CAA4B,8BAA8B,EAAE,UAACC,MAAM,EAAEC,OAAO,EAAK;QACrF,IAAIgB,OAAO,GAAGhB,OAAO,CAACG,MAAM,CAACa,OAAO;QACpC,OAAO9B,gBAAgB;MAC3B,CAAC,CAAC;IAEN;EACJ,CAAC,CAAC;EACF,OAAOG,MAAM;AACjB"},"metadata":{},"sourceType":"module"}